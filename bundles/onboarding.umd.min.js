!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common/http"),require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/forms"),require("@angular/cdk/keycodes"),require("@angular/cdk/drag-drop"),require("@angular/material/paginator"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/common"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/material/form-field"),require("@angular/material/button"),require("@angular/material/checkbox"),require("@angular/material/icon"),require("@angular/material/select"),require("@angular/material/chips"),require("@angular/material/input"),require("@angular/material/grid-list"),require("@angular/material/radio"),require("@angular/cdk/table"),require("@angular/material/card"),require("@angular/material/dialog")):"function"==typeof define&&define.amd?define("onboarding",["exports","@angular/common/http","@angular/core","rxjs","@angular/router","@angular/forms","@angular/cdk/keycodes","@angular/cdk/drag-drop","@angular/material/paginator","@angular/material/sort","@angular/material/table","@angular/common","@angular/platform-browser","@angular/platform-browser/animations","@angular/material/form-field","@angular/material/button","@angular/material/checkbox","@angular/material/icon","@angular/material/select","@angular/material/chips","@angular/material/input","@angular/material/grid-list","@angular/material/radio","@angular/cdk/table","@angular/material/card","@angular/material/dialog"],t):t((e=e||self).onboarding={},e.ng.common.http,e.ng.core,e.rxjs,e.ng.router,e.ng.forms,e.ng.cdk.keycodes,e.ng.cdk.dragDrop,e.ng.material.paginator,e.ng.material.sort,e.ng.material.table,e.ng.common,e.ng.platformBrowser,e.ng.platformBrowser.animations,e.ng.material.formField,e.ng.material.button,e.ng.material.checkbox,e.ng.material.icon,e.ng.material.select,e.ng.material.chips,e.ng.material.input,e.ng.material.gridList,e.ng.material.radio,e.ng.cdk.table,e.ng.material.card,e.ng.material.dialog)}(this,(function(e,t,n,o,a,i,r,l,s,d,u,p,c,f,m,g,A,b,h,v,y,x,E,M,w,C){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var k=function(){return(k=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function L(e,t,n,o){var a,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(r=(i<3?a(r):i>3?a(t,n,r):a(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function B(e,t){return function(n,o){t(n,o,e)}}function P(e,t,n,o){return new(n||(n=Promise))((function(a,i){function r(e){try{s(o.next(e))}catch(e){i(e)}}function l(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))}function D(e,t){var n,o,a,i,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(a=(a=r.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){r.label=i[1];break}if(6===i[0]&&r.label<a[1]){r.label=a[1],a=i;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(i);break}a[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(e,r)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}var I=function(){function e(e,t){this.http=t,this.token=new o.BehaviorSubject(null),this.authentication=new n.EventEmitter,this._token=this.token.asObservable(),this.lang=new o.BehaviorSubject(""),this.mainPath="",this.buildHeaders(),this.initInstance(e)}return e.prototype.buildHeaders=function(){var e=this;this._token.subscribe((function(n){var o="Bearer "+n;e.header=new t.HttpHeaders({Authorization:o})}))},e.prototype.initInstance=function(e){var t=this;if(this._auth=!!e.auth,!e.endpoint)return new Error("Please provide endpoint");this.endpoint=e.endpoint,e.auth?this.authentication.subscribe((function(n){!n.lang&&e.lang&&(n.lang=e.lang),t.locale=n.lang,t.lang.next(t.locale),n.token&&t.token.next(n.token),t.user=n})):e.lang&&(this.locale=e.lang,this.lang.next(this.locale),this.user={lang:e.lang,token:e.token}),e.token&&this.token.next(e.token)},e.prototype.guid=function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.prototype.createProfil=function(e){return P(this,void 0,void 0,(function(){var t=this;return D(this,(function(n){return[2,new Promise((function(n,o){var a={headers:t.header};t.http.post(t.endpoint+"/profils",e,a).subscribe((function(e){n(e)}))}))]}))}))},e.prototype.updateProfil=function(e){return P(this,void 0,void 0,(function(){var t=this;return D(this,(function(n){return[2,new Promise((function(n,o){var a={headers:t.header};t.http.put(t.endpoint+"/profils",e,a).subscribe((function(e){n(e)}))}))]}))}))},e.prototype.deleteProfil=function(e){return P(this,void 0,void 0,(function(){var t=this;return D(this,(function(n){return[2,new Promise((function(n,o){var a={headers:t.header};t.http.delete(t.endpoint+"/profils/"+e,a).subscribe((function(e){n(e)}))}))]}))}))},e.prototype.getProfil=function(e){return P(this,void 0,void 0,(function(){var t=this;return D(this,(function(n){return[2,new Promise((function(n,o){var a={headers:t.header};t.http.get(t.endpoint+"/profils/"+e,a).subscribe((function(e){n(e)}))}))]}))}))},e.prototype.getAllProfil=function(){return P(this,void 0,void 0,(function(){var e=this;return D(this,(function(t){return[2,new Promise((function(t,n){var o={headers:e.header};e.http.get(e.endpoint+"/profils",o).subscribe((function(e){t(e)}))}))]}))}))},e.prototype.getAllTags=function(){return P(this,void 0,void 0,(function(){var e=this;return D(this,(function(t){return[2,new Promise((function(t,n){var o={headers:e.header};e.http.get(e.endpoint+"/tags",o).subscribe((function(e){t(e)}))}))]}))}))},e.prototype.asignProfil=function(){return P(this,void 0,void 0,(function(){return D(this,(function(e){return[2]}))}))},e.prototype.getTags=function(){return P(this,void 0,void 0,(function(){return D(this,(function(e){return[2]}))}))},e.prototype.getCategory=function(){return P(this,void 0,void 0,(function(){return D(this,(function(e){return[2]}))}))},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:["__NgxOnboarding__"]}]},{type:t.HttpClient}]},e=L([n.Injectable(),B(0,n.Inject("__NgxOnboarding__"))],e)}(),Q=function(){function e(e,t){this.service=e,this.router=t}return e.prototype.ngOnInit=function(){this.router.url.indexOf("onboarding")>-1&&(this.service.mainPath=this.router.url.split("/onboarding")[0]+"/onboarding",console.log("--------------------------",this.service.mainPath))},e.ctorParameters=function(){return[{type:I},{type:a.Router}]},e=L([n.Component({selector:"ngx-onboarding",template:"<router-outlet></router-outlet>",styles:[".main{background-color:red!important}"]})],e)}(),S=function(){function e(e,t,n,o){this.fb=e,this.service=t,this.route=n,this.router=o,this.validCategory=!1,this.separatorKeysCodes=[r.ENTER,r.COMMA,r.SEMICOLON],this.currentProfil={},this.tags=[],this.id="",this.parent=[],this.categories=[{name:"Utilisateur",editable:!1,deleteable:!1,expandMore:!1,suffixEndpoint:"category/user",forms:[{label:"Nom",value:null,size:80,isMandatory:!0,type:"text",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Prénom",value:null,size:80,isMandatory:!0,type:"text",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Fonction",value:null,size:80,isMandatory:!0,type:"text",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Date d'entrée",value:null,size:20,isMandatory:!0,type:"date",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Langue",value:["fr","en"],size:10,isMandatory:!0,type:"select",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Téléphone portable",value:null,size:20,isMandatory:!0,type:"phone",editable:!1,deleteable:!1,subLevel:1,expandMore:!1},{label:"Téléphone fixe",value:null,size:20,isMandatory:!0,type:"phone",editable:!1,deleteable:!1,subLevel:1,expandMore:!1}]},{name:"Session d'utilisateur",editable:!0,deleteable:!0,selected:!0,expandMore:!1,suffixEndpoint:"category/user-session",forms:[{label:"Utilisateur local à créer",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Login",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!1,subLevel:2,expandMore:!1},{label:"Mot de passe",value:null,size:80,isMandatory:!0,type:"password",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]},{label:"Utilisateur AD (serveur) à créer",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Nom de domaine",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!1,subLevel:2,expandMore:!1},{label:"Votre login",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Votre mot de passe.",value:null,size:80,isMandatory:!0,type:"password",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Groupe de sécurité",value:null,size:80,isMandatory:!0,type:"checkbox",editable:!0,deleteable:!0,subLevel:2,expandMore:!1,forms:[{label:"Utilisateur avec les droits similaires *",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:3,expandMore:!1},{label:"Descriptions",value:null,size:255,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:3,expandMore:!1}]}]}]},{name:"Messagerie",expandMore:!1,suffixEndpoint:"category/messagerie",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Adresse mail à créer.",value:null,size:80,isMandatory:!0,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Adresse mail",value:null,size:80,isMandatory:!0,type:"email",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Type de licence (si gérées par le client)",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]},{label:"Listes  de distribution.",value:null,size:80,isMandatory:!0,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Utilisateur avec les listes similaires *",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Descriptions.",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]},{label:"Ajouter des boites mails délégués.",value:null,size:80,isMandatory:!0,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Descriptions.",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]}]},{name:"Serveur",expandMore:!1,suffixEndpoint:"category/serveur",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Accès aux lecteurs réseaux.",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Nom du serveur",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!1,subLevel:2,expandMore:!1},{label:"Chemin du dossier",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Lettre à attribuer",value:null,size:80,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]}]},{name:"VPN",expandMore:!1,suffixEndpoint:"category/vpn",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Accès au VPN",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1}]},{name:"Imprimantes",expandMore:!1,suffixEndpoint:"category/imprimente",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Accès aux imprimantes.",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Nom / Modèle de l'imprimante / localisation",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]}]},{name:"Applications",expandMore:!1,suffixEndpoint:"category/application",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Accès aux applications ?",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Descriptions",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1}]}]},{name:"Poste",expandMore:!1,suffixEndpoint:"category/poste",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Paramétrage de poste",value:null,size:80,isMandatory:!1,type:"checkbox",editable:!0,deleteable:!0,subLevel:1,expandMore:!1,forms:[{label:"Equipement à réatribuer",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:2,expandMore:!1},{label:"Nouveau poste",value:null,size:80,isMandatory:!0,type:"checkbox",editable:!0,deleteable:!0,subLevel:2,expandMore:!1,forms:[{label:"Acheté chez Nowteam",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:3,expandMore:!1},{label:"Autre",value:null,size:1e3,isMandatory:!0,type:"text",editable:!0,deleteable:!0,subLevel:3,expandMore:!1}]}]}]},{name:"Autres",expandMore:!1,suffixEndpoint:"category/autres",selected:!0,editable:!0,deleteable:!0,forms:[{label:"Descriptions",value:null,size:1e3,isMandatory:!1,type:"text",editable:!0,deleteable:!0,subLevel:1,expandMore:!1}]}]}return e.prototype.ngOnInit=function(){return P(this,void 0,void 0,(function(){var e,t;return D(this,(function(n){switch(n.label){case 0:return this.form=this.fb.group({Name:["",i.Validators.required],Description:[""],Tags:["",i.Validators.required],Status:[!1,i.Validators.required]}),e=this,[4,this.service.getAllTags()];case 1:return e.tags=n.sent(),this.id=this.route.snapshot.paramMap.get("id"),"0"==this.id?[3,3]:(t=this,[4,this.service.getProfil(this.id)]);case 2:t.currentProfil=n.sent(),this.form.patchValue(this.currentProfil),this.categories=this.currentProfil.categories,n.label=3;case 3:return[2]}}))}))},e.prototype.onAddNewCategory=function(e){e.preventDefault(),this.categories.push({name:"",editable:!0,deleteable:!0,expandMore:!0,suffixEndpoint:"",forms:[{label:"",value:null,size:80,isMandatory:!0,type:"text",deleteable:!0,editable:!0}]})},e.prototype.onAddNewField=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length,o=1===n?this.categories[e[0]].forms:2===n?this.categories[e[0]].forms[e[1]].forms:this.categories[e[0]].forms[e[1]].forms[e[2]].forms;o.push({label:"",value:null,size:80,isMandatory:!0,type:"text",deleteable:!0,editable:!0,subLevel:e.length})},e.prototype.onAddNewSubLevelField=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.log(e.length-1);var n=e.length,o=2===n?this.categories[e[0]].forms[e[n-1]]:3===n?this.categories[e[0]].forms[e[1]].forms[e[n-1]]:this.categories[e[0]].forms[e[1]].forms[e[2]].forms[e[n-1]];o.expandMore=!0,o.forms=[],o.forms.push({label:"",value:null,size:80,isMandatory:!0,type:"text",deleteable:!0,editable:!0,subLevel:e.length,expandMore:!0}),console.log(this.categories)},e.prototype.onRemoveField=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length,o=2===n?this.categories[e[0]].forms:3===n?this.categories[e[0]].forms[e[1]].forms:this.categories[e[0]].forms[e[1]].forms[e[2]].forms;o.splice(e[n-1],1)},e.prototype.onRemoveCategory=function(e,t){e.preventDefault(),this.categories.splice(t,1)},e.prototype.onChangeCategory=function(){return this.categories.every((function(e){return""!==e.name&&e.forms.every((function(e){return""!==e.label&&""!==e.type}))}))},e.prototype.onSubmit=function(){return P(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return this.form.valid&&this.onChangeCategory()?(console.log(this.form.value),console.log(this.categories),"0"===this.id?[3,2]:[4,this.service.updateProfil(k(k(k({},this.currentProfil),this.form.value),{categories:this.categories}))]):[3,5];case 1:return e=t.sent(),[3,4];case 2:return[4,this.service.createProfil(k(k({},this.form.value),{categories:this.categories}))];case 3:e=t.sent(),t.label=4;case 4:e?this.router.navigate([this.service.mainPath]):console.log("errror......"),t.label=5;case 5:return[2]}}))}))},e.prototype.onChangeType=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t.length,a=2===o?this.categories[t[0]].forms:3===o?this.categories[t[0]].forms[t[1]].forms:this.categories[t[0]].forms[t[1]].forms[t[2]].forms;a[t[o-1]].value="select"===e||"radio"===e?[]:"text"===e&&""},e.prototype.onKeyPress=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t.length,a=2===o?this.categories[t[0]].forms[t[o-1]]:3===o?this.categories[t[0]].forms[t[1]].forms[t[o-1]]:this.categories[t[0]].forms[t[1]].forms[t[2]].forms[t[o-1]];if(";"===e.key){var i=a.value.find((function(t){return t.toLocaleLowerCase()===e.target.value.split(";")[0].toLocaleLowerCase()}));i?e.target.value="":(a.value.push(e.target.value.split(";")[0]),e.target.value="")}},e.prototype.removeKeyword=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t.length,a=2===o?this.categories[t[0]].forms[t[o-1]]:3===o?this.categories[t[0]].forms[t[1]].forms[t[o-1]]:this.categories[t[0]].forms[t[1]].forms[t[2]].forms[t[o-1]];a.value=a.value.filter((function(t){return t!==e}))},e.prototype.onExpendMore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.preventDefault(),console.log(e);var o=t.length,a=1===o?this.categories[t[0]]:2===o?this.categories[t[0]].forms[t[o-1]]:3===o?this.categories[t[0]].forms[t[1]].forms[t[o-1]]:this.categories[t[0]].forms[t[1]].forms[t[2]].forms[t[o-1]];a.expandMore=!a.expandMore},e.prototype.addKeywordFromInput=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=e.input,a=e.value,i=t.length,r=2===i?this.categories[t[0]].forms[t[i-1]]:3===i?this.categories[t[0]].forms[t[1]].forms[t[i-1]]:this.categories[t[0]].forms[t[1]].forms[t[2]].forms[t[i-1]];if(a){var l=r.value.find((function(t){return t.toLocaleLowerCase()===e.value.toLocaleLowerCase()}));l?o.value="":(r.value.push(a.trim()),o.value="")}},e.prototype.drop=function(e){console.log("log",this.categories),e.previousContainer===e.container?l.moveItemInArray(e.container.data,e.previousIndex,e.currentIndex):l.transferArrayItem(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)},e.prototype.ingoreDefaultAction=function(e){e.preventDefault()},e.ctorParameters=function(){return[{type:i.FormBuilder},{type:I},{type:a.ActivatedRoute},{type:a.Router}]},e=L([n.Component({selector:"onboarding-create-profile-template",template:'<div class="container">\n  <h3>Création de profil</h3>\n  <form [formGroup]="form" (submit)="onSubmit()">\n    <mat-form-field class="example-full-width" appearance="fill">\n      <mat-label>Nom du profil</mat-label>\n      <input type="text" matInput formControlName="Name" placeholder="Ex. Manager" />\n      <mat-error *ngIf="form.get(\'Name\').hasError(\'required\')">\n        Profil est <strong>requis</strong>\n      </mat-error>\n    </mat-form-field>\n    <mat-form-field class="example-full-width" appearance="fill">\n      <mat-label>Déscription</mat-label>\n      <textarea type="text" matInput formControlName="Description" placeholder=""></textarea>\n    </mat-form-field>\n    <mat-form-field class="example-full-width" appearance="fill">\n      <mat-label>Tags</mat-label>\n      <mat-select formControlName="Tags" required>\n        <mat-option *ngFor="let tag of tags" [value]="tag">{{tag}}</mat-option>\n      </mat-select>\n    </mat-form-field>\n    <mat-checkbox formControlName="Status">Active</mat-checkbox>\n\n    <hr />\n    <div class="category">\n      <h2>Liste de catégories</h2>\n      <div cdkDropListGroup>\n        <div class="example-list mt-20" #parentList="cdkDropList" cdkDropList [cdkDropListData]="categories"\n          (cdkDropListDropped)="drop($event)">\n          <div class="category-item" *ngFor="let category of categories;  let i=index" cdkDrag>\n            <button mat-mini-fab color="primary" (click)="onExpendMore($event,i)">\n              <mat-icon *ngIf="!category.expandMore">expand_less</mat-icon>\n              <mat-icon *ngIf="category.expandMore">expand_more</mat-icon>\n            </button>\n            <button mat-raised-button class="move-icons" (click)="ingoreDefaultAction($event)">\n              <mat-icon cdkDragHandle>swap_vert</mat-icon>\n            </button>\n            <div class="field-content">\n              <div class="field-item">\n                <mat-form-field class="example-full-width input-category-name" appearance="fill">\n                  <mat-label>Catégorie</mat-label>\n                  <input type="text" required [readonly]="categories.length<4 || !category.editable"\n                    [disabled]="!category.editable" matInput [(ngModel)]="category.name"\n                    [ngModelOptions]="{standalone: true}" placeholder="" />\n                  <mat-error *ngIf="category.name == \'\'">\n                    Catégorie est <strong>requis</strong>\n                  </mat-error>\n                </mat-form-field>\n                <div>\n                  <button [disabled]="!category.deleteable" (click)="onRemoveCategory($event,i)" mat-raised-button\n                    color="warn">Supprimer</button>\n                </div>\n              </div>\n\n              <div #childList="cdkDropList" *ngIf="category.forms" [cdkDropListData]="category.forms" cdkDropList\n                (cdkDropListDropped)="drop($event)">\n                <ng-container *ngIf="category.expandMore">\n                  <div class="field" *ngFor="let field of category.forms;let j=index" cdkDrag>\n                    <lib-sub-category [field]="field" [length]="category?.forms?.length" [i]="i" [j]="j"\n                      (onAddKeywordFromInput)="addKeywordFromInput($event.event,i,j)"\n                      (onKeyPress)="onKeyPress($event.event,i,j)" (onAddNewField)="onAddNewField(i)"\n                      (onRemoveField)="onRemoveField(i,j)" (onChangeType)="onChangeType(field.type,i,j)"\n                      (onRemoveKeyword)="removeKeyword($event.event,i,j)"\n                      (onAddNewSubLevelField)="onAddNewSubLevelField(i,j)" (onExpendMore)="onExpendMore(null,i,j)">\n                      <div *ngIf="field.expandMore" class="child">\n                        <div #childList="cdkDropList" *ngIf="field.forms" [cdkDropListData]="field.forms" cdkDropList\n                          (cdkDropListDropped)="drop($event)">\n                          <div class="field" *ngFor="let child of field.forms;let k=index" cdkDrag>\n                            <lib-sub-category [field]="child" [length]="field?.forms?.length" [i]="j" [j]="k"\n                              (onAddKeywordFromInput)="addKeywordFromInput($event.event,i,j,k)"\n                              (onKeyPress)="onKeyPress($event.event,i,j,k)" (onAddNewField)="onAddNewField(i, j)"\n                              (onRemoveField)="onRemoveField(i,j,k)" (onChangeType)="onChangeType(child.type,i,j,k)"\n                              (onRemoveKeyword)="removeKeyword($event.event,i,j,k)"\n                              (onAddNewSubLevelField)="onAddNewSubLevelField(i,j,k)"\n                              (onExpendMore)="onExpendMore(null,i,j,k)">\n                              <div *ngIf="child.expandMore" class="child">\n                                <div #childList="cdkDropList" *ngIf="child.forms" [cdkDropListData]="child.forms"\n                                  cdkDropList (cdkDropListDropped)="drop($event)">\n                                  <div class="field" *ngFor="let c2 of child.forms;let l=index" cdkDrag>\n                                    <lib-sub-category [field]="c2" [length]="child?.forms?.length" [i]="k" [j]="l"\n                                      (onAddKeywordFromInput)="addKeywordFromInput($event.event,i,j,k,l)"\n                                      (onKeyPress)="onKeyPress($event.event,i,j,k,l)"\n                                      (onAddNewField)="onAddNewField(i,j,k)" (onRemoveField)="onRemoveField(i,j,k,l)"\n                                      (onChangeType)="onChangeType(c2.type,i,j,k,l)"\n                                      (onRemoveKeyword)="removeKeyword($event.event,i,j,k,l)"\n                                      (onAddNewSubLevelField)="onAddNewSubLevelField(i,j,k,l)"\n                                      (onExpendMore)="onExpendMore(null,i,j,k,l)">\n                                      <div class="child">\n                                      </div>\n                                    </lib-sub-category>\n                                  </div>\n                                </div>\n                              </div>\n                            </lib-sub-category>\n                          </div>\n                        </div>\n                      </div>\n                    </lib-sub-category>\n                  </div>\n                </ng-container>\n\n              </div>\n\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <div class="action">\n      <button mat-raised-button color="primary" (click)=\'onAddNewCategory($event)\'>Ajouter une catégorie</button>\n      <a [routerLink]="[service.mainPath]" role="button" mat-raised-button color="basic">Liste des profils</a>\n      <button mat-raised-button color="basic" type="submit">Valider</button>\n    </div>\n  </form>\n</div>',styles:[".container{max-width:98%;margin:50px auto auto;padding-bottom:50px}.container .action{width:100%;display:flex;justify-content:space-between}.input-category-name{font-size:15px;font-weight:500}.example-full-width{width:100%}.field-item{display:flex;justify-content:space-between;align-items:center}.field-action{width:10%}.field-size{width:90%;margin:auto 2% auto auto}hr{margin:50px 0}::ng-deep .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fff}.category-action{display:flex;width:100%}.delete-field{margin:auto 2%}.radio-group .mat-radio-button{margin-right:10px}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#3f51b5;color:#fff;min-height:20px;font-size:10px}.move-icons{cursor:move}.category-item{display:flex;align-items:baseline;width:100%}.field-content{width:100%}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating,.example-list.cdk-drop-list-dragging .category-item:not(.cdk-drag-placeholder){transition:transform 250ms cubic-bezier(0,0,.2,1)}.child{margin-left:5%}"]})],e)}(),F=function(){function e(e,t){this.service=e,this.router=t,this.displayedColumns=["Name","vcontacts","createdAt","updatedAt","action"],this.datas=[],this.dataSource=new u.MatTableDataSource([]),this.defaultElevation=2,this.raisedElevation=8}return e.prototype.ngOnInit=function(){return P(this,void 0,void 0,(function(){return D(this,(function(e){switch(e.label){case 0:return[4,this.getAllProfils()];case 1:return e.sent(),[2]}}))}))},e.prototype.onAddProfil=function(){this.router.navigate(["onboarding/template-builder/0"])},e.prototype.onDelete=function(e,t){return P(this,void 0,void 0,(function(){return D(this,(function(n){switch(n.label){case 0:return e.stopPropagation(),confirm("Voulez vous supprimer cette template ?")?[4,this.service.deleteProfil(t)]:[3,3];case 1:return n.sent()?[4,this.getAllProfils()]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.getAllProfils=function(){return P(this,void 0,void 0,(function(){var e;return D(this,(function(t){switch(t.label){case 0:return[4,this.service.getAllProfil()];case 1:return e=t.sent(),this.datas=e,this.dataSource=new u.MatTableDataSource(this.datas),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,[2]}}))}))},e.ctorParameters=function(){return[{type:I},{type:a.Router}]},L([n.ViewChild(s.MatPaginator)],e.prototype,"paginator",void 0),L([n.ViewChild(d.MatSort)],e.prototype,"sort",void 0),e=L([n.Component({selector:"onboarding-profile-list",template:'<div class="main">\n  <div class="header-list">\n    <h2>On boarding</h2>\n    <p>Retrouvez ici, l’ensemble des formulaires d’on boarding que vous avez créés</p>\n    \x3c!-- <button mat-raised-button color="primary" (click)=\'onAddProfil()\'>Ajouter un prifil</button> --\x3e\n  </div>\n  <div class="content-list">\n    <h3>Fiches collaborateurs</h3>\n    <div class="list">\n      <div class="box-template">\n        <p>Nouvelle catégorie</p>\n        <a role="button" [routerLink]="[this.service.mainPath+\'/template-builder/0\']" mat-raised-button color="primary">\n          <mat-icon>add</mat-icon>\n          Créer une fiche\n        </a>\n      </div>\n      <div appMaterialElevation [defaultElevation]="defaultElevation" raisedElevation="16" class="box-template"\n        *ngFor="let d of datas">\n        <div class="box-content" [routerLink]="[this.service.mainPath+\'/template-builder/\'+d._id]">\n          <img\n            src="data:image/png;base64,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"\n            alt="">\n          <p> {{d.Name}}</p>\n        </div>\n        <button (click)="onDelete($event,d._id)" mat-mini-fab color="accent" appMaterialElevation\n          [defaultElevation]="defaultElevation" raisedElevation="16">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>',styles:[".main{background:no-repeat padding-box #f4f7f9;opacity:1;height:100%}.main .header-list{margin-left:50px;padding-top:10px}.main .header-list h2{text-align:left;font:bold 32px/30px Nexa Text;letter-spacing:0;color:#171f26;opacity:1}.main .header-list p{text-align:left;font:20px/26px Nexa Text;letter-spacing:0;color:#171f26;opacity:1}.main .content-list{background-color:#fff;border-radius:8px;opacity:1;margin:57px;height:80%;padding:49px}.main .content-list .list{display:flex;flex-wrap:wrap}.main .content-list .list h3{text-align:left;font:bold 23px/30px Nexa Text;letter-spacing:0;color:#171f26;opacity:1}.main .content-list .list .box-template{width:328px;position:relative;height:228px;margin-right:50px;margin-bottom:50px;background:no-repeat padding-box #f4f7f9;border:1px solid #dce4e9;border-radius:6px;opacity:1;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer}.main .content-list .list .box-template img{width:81px;height:81px}.main .content-list .list .box-template p{text-align:center;font:bold 16px/25px Nexa Text;letter-spacing:.1px;color:#5a607f;opacity:1}.main .content-list .list .box-template a{background:no-repeat padding-box #5a607f;border-radius:7px;font-size:15px}.main .content-list .list .box-template .mat-mini-fab{display:none}::ng-deep .box-template:hover .mat-mini-fab .mat-button-wrapper{padding:0!important;display:inline-block;line-height:0}::ng-deep .box-template:hover .mat-mini-fab{display:initial!important;position:absolute;right:6px;top:7px;background-color:red;width:25px;height:25px}::ng-deep .box-template:hover .mat-mini-fab .mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:37px;width:24px}.box-content{width:100%;height:90%;text-align:center;margin-top:15%}"]})],e)}(),j=function(){function e(){this.onAddKeywordFromInput=new n.EventEmitter,this.onKeyPress=new n.EventEmitter,this.onDrop=new n.EventEmitter,this.onAddNewField=new n.EventEmitter,this.onRemoveField=new n.EventEmitter,this.onChangeType=new n.EventEmitter,this.onRemoveKeyword=new n.EventEmitter,this.onAddNewSubLevelField=new n.EventEmitter,this.onExpendMore=new n.EventEmitter,this.separatorKeysCodes=[r.ENTER,r.COMMA,r.SEMICOLON]}return e.prototype.ngOnInit=function(){},e.prototype.drop=function(e){this.onDrop.emit(e)},e.prototype.addKeywordFromInput=function(e,t,n){this.onAddKeywordFromInput.emit({event:e,i:t,j:n})},e.prototype.keyUp=function(e,t,n){this.onKeyPress.emit({event:e,i:t,j:n})},e.prototype.addNewField=function(e,t){e.preventDefault(),this.onAddNewField.emit({event:e,i:t})},e.prototype.removeField=function(e,t,n){e.preventDefault(),this.onRemoveField.emit({i:t,j:n})},e.prototype.changeType=function(e,t,n){this.onChangeType.emit({type:e,i:t,j:n})},e.prototype.removeKeyword=function(e,t,n){this.onRemoveKeyword.emit({event:e,i:t,j:n})},e.prototype.addNewSubLevelField=function(e){e.preventDefault(),this.onAddNewSubLevelField.emit(!0)},e.prototype.expendMore=function(e){e.preventDefault(),this.onExpendMore.emit(!0)},e.prototype.ingoreDefaultAction=function(e){e.preventDefault()},L([n.Input()],e.prototype,"field",void 0),L([n.Input()],e.prototype,"length",void 0),L([n.Input()],e.prototype,"i",void 0),L([n.Input()],e.prototype,"j",void 0),L([n.Output()],e.prototype,"onAddKeywordFromInput",void 0),L([n.Output()],e.prototype,"onKeyPress",void 0),L([n.Output()],e.prototype,"onDrop",void 0),L([n.Output()],e.prototype,"onAddNewField",void 0),L([n.Output()],e.prototype,"onRemoveField",void 0),L([n.Output()],e.prototype,"onChangeType",void 0),L([n.Output()],e.prototype,"onRemoveKeyword",void 0),L([n.Output()],e.prototype,"onAddNewSubLevelField",void 0),L([n.Output()],e.prototype,"onExpendMore",void 0),e=L([n.Component({selector:"lib-sub-category",template:'<div class="field-item">\n    \x3c!-- {{ j + 1 }} --\x3e\n    <button [disabled]="!(field.forms && field.forms.length>0)"\n        [style.opacity]="field.forms && field.forms.length>0 ? 1 :0" mat-mini-fab color="primary"\n        (click)="expendMore($event)">\n        <mat-icon *ngIf="!field.expandMore">expand_less</mat-icon>\n        <mat-icon *ngIf="field.expandMore">expand_more</mat-icon>\n    </button>\n    <button mat-raised-button class="move-icons" (click)="ingoreDefaultAction($event)">\n        <mat-icon cdkDragHandle>swap_vert</mat-icon>\n    </button>\n    <mat-form-field class="form-field field-size" appearance="fill">\n        <mat-label>Label</mat-label>\n        <input type="text" [disabled]="!field.editable" matInput required [ngModelOptions]="{standalone: true}"\n            [(ngModel)]="field.label" placeholder="" />\n        <mat-error *ngIf="field.label === \'\'">\n            Label est <strong>requis</strong>\n        </mat-error>\n    </mat-form-field>\n\n    <mat-form-field class="form-field field-size" appearance="fill">\n        <mat-label>Type</mat-label>\n        <mat-select [disabled]="!field.editable" [(ngModel)]="field.type" required [ngModelOptions]="{standalone: true}"\n            (ngModelChange)="changeType(field.type,i,j)">\n            <mat-option value="text">Text</mat-option>\n            <mat-option value="radio">Radio</mat-option>\n            <mat-option value="select">Selecteur</mat-option>\n            <mat-option value="checkbox">Checkbox</mat-option>\n            <mat-option value="email">Email</mat-option>\n            <mat-option value="password">Password</mat-option>\n            <mat-option value="date">Date</mat-option>\n            <mat-option value="phone">Phone</mat-option>\n        </mat-select>\n    </mat-form-field>\n    <ng-container [ngSwitch]="field.type">\n        <div *ngSwitchCase="\'checkbox\'" class="flex-auto w-30 field-size">\n            <mat-checkbox [(ngModel)]="field.value" [ngModelOptions]="{standalone: true}">Valeur\n            </mat-checkbox>\n        </div>\n        <mat-form-field *ngSwitchCase="[\'select\', \'radio\'].includes(field.type) ? field.type : !field.type"\n            class="flex-auto w-30 field-size">\n            <mat-label> Valeur </mat-label>\n            <mat-chip-list #chipList aria-label="Video keywords; let index=index" multiple>\n                <mat-chip style="min-height: 25px;" *ngFor="let option of field.value" [selected]="option"\n                    [value]="option" [removable]="true" (removed)="removeKeyword(option, i,j)">\n                    {{option}}\n                    <mat-icon matChipRemove>cancel</mat-icon>\n                </mat-chip>\n                <input #chipsInput placeholder="add..." [matChipInputFor]="chipList" [matChipInputAddOnBlur]="true"\n                    (matChipInputTokenEnd)="addKeywordFromInput($event, i,j)"\n                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes" (keyup)="keyUp($event,i,j)">\n            </mat-chip-list>\n        </mat-form-field>\n        <mat-form-field *ngSwitchDefault class="form-field field-size" appearance="fill">\n            <mat-label>Valeur</mat-label>\n            <input [type]="field.type" matInput [ngModelOptions]="{standalone: true}" [(ngModel)]="field.value"\n                placeholder="">\n        </mat-form-field>\n    </ng-container>\n    <button [disabled]="field.subLevel>2" [style.opacity]="field.subLevel>2 ? 0 :1" mat-mini-fab color="success"\n        (click)=\'addNewSubLevelField($event)\'>\n        <mat-icon>device_hub</mat-icon>\n    </button>\n\n    <button [disabled]="!field.deleteable" mat-mini-fab color="warn" class="delete-field"\n        (click)="removeField($event,i,j)">\n        \x3c!-- [disabled]="length<2 || !field.deleteable" --\x3e\n        <mat-icon>delete</mat-icon>\n    </button>\n    <mat-checkbox class="form-field" [(ngModel)]="field.isMandatory" [ngModelOptions]="{standalone: true}">\n        obligatoire\n    </mat-checkbox>\n</div>\n<button style="margin:10px auto" [disabled]="length-1!==j" [style.opacity]="length-1===j ? 1 :0" mat-raised-button\n    color="primary" (click)=\'addNewField($event,i)\'>\n    <mat-icon>plus_one</mat-icon>\n    <span>Ajouter un champ</span>\n</button>\n<ng-content select=".child"></ng-content>',styles:[".container{max-width:98%;margin:50px auto auto;padding-bottom:50px}.container .action{width:100%;display:flex;justify-content:space-between}.input-category-name{font-size:15px;font-weight:500}.example-full-width{width:100%}.field-item{display:flex;justify-content:space-between;align-items:center}.field-action{width:10%}.field-size{width:90%;margin:auto 2% auto auto}hr{margin:50px 0}::ng-deep .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fff}.category-action{display:flex;width:100%}.delete-field{margin:auto 2%}.radio-group .mat-radio-button{margin-right:10px}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#3f51b5;color:#fff;min-height:20px;font-size:10px}.move-icons{cursor:move}.category-item{display:flex;align-items:baseline;width:100%}.field-content{width:100%}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating,.example-list.cdk-drop-list-dragging .category-item:not(.cdk-drag-placeholder){transition:transform 250ms cubic-bezier(0,0,.2,1)}::ng-deep .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:rgba(0,0,0,.02);margin-bottom:-20px}"]})],e)}(),N=function(){function e(e,t){this.element=e,this.renderer=t,this.defaultElevation=2,this.raisedElevation=8,this.setElevation(this.defaultElevation)}return e.prototype.ngOnChanges=function(e){this.setElevation(this.defaultElevation)},e.prototype.onMouseEnter=function(){this.setElevation(this.raisedElevation)},e.prototype.onMouseLeave=function(){this.setElevation(this.defaultElevation)},e.prototype.setElevation=function(e){var t=this;Array.from(this.element.nativeElement.classList).filter((function(e){return e.startsWith("mat-elevation-z")})).forEach((function(e){t.renderer.removeClass(t.element.nativeElement,e)}));var n="mat-elevation-z"+e;this.renderer.addClass(this.element.nativeElement,n)},e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},L([n.Input()],e.prototype,"defaultElevation",void 0),L([n.Input()],e.prototype,"raisedElevation",void 0),L([n.HostListener("mouseenter")],e.prototype,"onMouseEnter",null),L([n.HostListener("mouseleave")],e.prototype,"onMouseLeave",null),e=L([n.Directive({selector:"[appMaterialElevation]"})],e)}(),T=[{path:"onboarding",component:Q,children:[{path:"template-builder/:id",component:S},{path:"",component:F}]}],R=function(){function e(e){if(e)throw new Error("OnboardingModule is already loaded. Import it in the AppModule only")}var o;return o=e,e.forRoot=function(e){return{ngModule:o,providers:[{provide:"__NgxOnboarding__",useValue:e},I]}},e.ctorParameters=function(){return[{type:e,decorators:[{type:n.Optional},{type:n.SkipSelf}]}]},e=o=L([n.NgModule({declarations:[N,Q,S,F,j],imports:[i.FormsModule,m.MatFormFieldModule,g.MatButtonModule,p.CommonModule,c.BrowserModule,f.BrowserAnimationsModule,i.FormsModule,i.ReactiveFormsModule,A.MatCheckboxModule,b.MatIconModule,h.MatSelectModule,y.MatInputModule,v.MatChipsModule,x.MatGridListModule,E.MatRadioModule,s.MatPaginatorModule,M.CdkTableModule,d.MatSortModule,u.MatTableModule,a.RouterModule.forChild(T),l.DragDropModule,w.MatCardModule,C.MatDialogModule],providers:[I],exports:[Q,t.HttpClientModule,S,F,Q,a.RouterModule]}),B(0,n.Optional()),B(0,n.SkipSelf())],e)}();e.CreateProfileTemplateComponent=S,e.OnboardingComponent=Q,e.OnboardingModule=R,e.OnboardingService=I,e.ProfileListComponent=F,e.onBoardingRoutes=T,e.ɵa=N,e.ɵb=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=onboarding.umd.min.js.map